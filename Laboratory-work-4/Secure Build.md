# Огляд практики безпеки

Практика Secure Build (SB) підкреслює важливість створення програмного забезпечення стандартизованим, повторюваним способом, і робити це з використанням безпечних 
компонентів, включаючи залежності від стороннього програмного забезпечення.

Перший потік зосереджений на усуненні будь-якої суб'єктивності з процесу збірки
шляхом прагнення до повної автоматизації. Автоматизований конвеєр збірки може включати
додаткові автоматизовані перевірки безпеки, такі як SAST і DAST, для отримання додаткових
додаткові автоматизовані перевірки безпеки, такі як SAST та DAST, щоб отримати додаткові гарантії та виявити регресію безпеки на ранніх стадіях, наприклад, шляхом відмови у створенні збірки.

Другий потік визнає поширеність програмних залежностей в
сучасних додатках. Він спрямований на їх ідентифікацію та відстеження їх статусу безпеки з метою
для того, щоб стримати вплив їх незахищеності на безпечний в інших відношеннях
додаток. У розширеній формі він застосовує аналогічні перевірки безпеки до програмних
залежностей, як і до самого додатку.


## Огляд потоків
### Потік А - Процес побудови
Послідовний процес збірки гарантує, що програмне забезпечення, яке ви розгортаєте, є
передбачуваним і безпосередньо пов'язаним з вихідним кодом. Крім того, ви можете скористатися
перевагами процесу побудови програмного забезпечення для різних видів діяльності з безпеки.

### Потік Б - Залежності від програмного забезпечення
Зовнішні бібліотеки є значною частиною сучасного програмного забезпечення. Діяльність за цим напрямком допомагає створити уявлення про зовнішні бібліотеки та їх безпеку.
цьому напрямку допомагають створити уявлення про зовнішні бібліотеки та забезпечити їх безпеку
міцність на належному рівні.

## Потік А - Процес побудови
### Рівень погашення 1
#### Вигода
Обмежений ризик людської помилки під час побудови, що зводить до мінімуму питання безпеки

#### Діяльність
Визначте процес збірки, розбивши його на набір чітких інструкцій, які можуть бути виконані людиною або автоматизованим інструментом
або людиною, або автоматизованим інструментом. Процес збірки
описує весь процес від початку до кінця так, щоб людина або інструмент
може послідовно виконувати його кожного разу і отримувати той самий результат. Визначення
визначення зберігається централізовано і є доступним для будь-яких інструментів або людей. Уникайте
зберігання декількох копій, оскільки вони можуть стати неузгодженими та застарілими.

Визначення процесу не містить жодних секретів (особливо враховуючи
тих, що необхідні під час процесу побудови).

Перевірте всі інструменти побудови, переконавшись, що вони активно підтримуються постачальниками
та оновлювалися за допомогою патчів безпеки. Посилити конфігурацію кожного інструменту таким чином, щоб
вона відповідала рекомендаціям постачальника та найкращим галузевим практикам.

Визначити значення для кожного згенерованого артефакту, яке згодом може бути використане для перевірки його цілісності, наприклад
його цілісність, наприклад, підпис або хеш. Захистити цю цінність і, якщо артефакт підписаний
підписується, приватний сертифікат підпису.
Забезпечити, щоб будівельні інструменти регулярно латали та належним чином загартовували.

### Рівень погашення 2
#### Вигода
Ефективний процес побудови з інтегрованими інструментами безпеки


#### Діяльність
Автоматизуйте процес складання, щоб збірки могли виконуватися послідовно
в будь-який час. Процес збірки, як правило, не повинен вимагати будь-якого втручання, що додатково
зменшуючи ймовірність людської помилки.

Використання автоматизованої системи збільшує залежність від безпеки збірки
інструментарію і робить зміцнення і підтримку інструментарію ще більш важливими.
Зверніть особливу увагу на інтерфейси цих інструментів, таких як веб-портали, і на те, як вони можуть бути заблоковані.
портали, і на те, як вони можуть бути заблоковані. Доступ інструменту збірки до мережі може дозволити зловмиснику
мережі може дозволити зловмиснику порушити цілісність
процесу. Це може, наприклад, дозволити вбудувати шкідливий код в
програмне забезпечення.

Автоматизований процес може вимагати доступу до облікових даних і секретів, необхідних
для створення програмного забезпечення, таких як сертифікат підписання коду або доступ до
сховищ. Поводьтеся з ними обережно. Підписуйте створені артефакти за допомогою сертифіката
який ідентифікує організацію або підрозділ, що його створив, щоб ви могли перевірити
його цілісність.

Нарешті, додати відповідні автоматизовані перевірки безпеки (наприклад, за допомогою інструментів SAST) в
для використання автоматизації в інтересах безпеки.


### Рівень погашення 3
#### Вигода
Гарантія того, що ви створюєте програмне забезпечення, яке відповідає базовому рівню безпеки

#### Діяльність
Визначте перевірки безпеки, які доцільно проводити під час процесу побудови, а також
а також мінімальні критерії для проходження збірки - вони можуть відрізнятися в залежності від
профілів ризику різних додатків. Включити відповідні перевірки безпеки
у збірку та забезпечити переривання процесу збірки у випадку, якщо попередньо визначені
критерії не виконуються. Запускати попередження для проблем нижче порогового рівня та реєструвати їх в централізованій системі для відстеження
їх до централізованої системи для відстеження та вжиття заходів. Якщо це доцільно,
впровадити механізм винятків, щоб обійти цю поведінку, якщо ризик певної вразливості
ризик певної вразливості був прийнятий або зменшений. Однак, переконайтеся, що ці
випадки спочатку чітко схвалюються та реєструються разом з обґрунтуванням.
обґрунтуванням.

Якщо технічні обмеження не дозволяють організації зламати збірку автоматично
автоматично, забезпечте такий самий ефект за допомогою інших заходів, таких як чітка
політики та регулярного аудиту.

Обробляти підписання коду на окремому централізованому сервері, який не піддає ризику
сертифікат системі, що виконує збірку. Там, де це можливо, використовуйте
детермінований метод, який виводить байт за байтом відтворювані артефакти.



## Потік Б - Процес побудови
### Рівень погашення 1
#### Вигода
Наявна інформація про відомі проблеми безпеки в залежних системах

#### Діяльність
Вести облік всіх залежностей, що використовуються протягом всього цільового виробництва
середовищі. Це іноді називають специфікацією матеріалів (BOM).
Враховуйте, що різні компоненти програми можуть споживати абсолютно
різні залежності. Наприклад, якщо програмний пакет є веб-додатком
додаток, охоплюйте як код додатку на стороні сервера, так і скрипти на стороні клієнта.
При створенні цих записів враховуйте різні місця, де можуть бути вказані залежності
можуть бути вказані, такі як конфігураційні файли, каталог проекту на диску, інструмент управління пакетами
інструмент управління пакетами або власне код (наприклад, за допомогою IDE, яка підтримує
перерахування залежностей).

Зберіть наступну інформацію про кожну залежність та#58;

- Де вона використовується або на яку вона посилається
- Використовувана версія
- Ліцензія
- Інформація про джерело (посилання на репозиторій, ім'я автора тощо)
- Статус підтримки та обслуговування залежності

Перевірте записи, щоб виявити будь-які залежності з відомими уразливостями
та оновити або замінити їх відповідним чином.



### Рівень погашення 2
#### Вигода
Повна прозорість відомих проблем безпеки в залежностях

#### Діяльність
Оцінити використовувані залежності та встановити перелік прийнятних, схвалених для використання в рамках проекту, команди або більш широкої організації
для використання в рамках проекту, команди або більш широкої організації відповідно до визначеного
набором критеріїв.

Запровадити центральний репозиторій залежностей, з якого можна збирати все програмне забезпечення
з якого може бути побудоване все програмне забезпечення.

Регулярно переглядати використовувані залежності, щоб переконатися, що вони залишаються належним чином ліцензованими;

- вони залишаються правильно ліцензованими
- немає відомих та значних вразливостей, що впливають на ваші програми
присутні
- залежність все ще активно підтримується і супроводжується
- ви використовуєте поточну версію
- є вагома причина для включення залежності

своєчасно та належним чином реагувати на невідповідності, розглядаючи їх як
дефекти. Розглянути можливість використання автоматизованого інструменту для пошуку вразливих
залежностей та призначати виявлені проблеми відповідним командам розробників.
командам розробників.


### Рівень погашення 3
#### Вигода
Обробка проблем безпеки в залежностях, порівнянних з проблемами безпеки у власному коді
код

#### Діяльність
Ведення білого списку затверджених залежностей та версій, а також забезпечення того, щоб
процес збірки завершується невдачею за наявності залежності, якої немає у списку.
Включити процес затвердження для обробки винятків з цього правила, якщо це доцільно.

Виконуйте дії з перевірки безпеки для залежностей з білого списку таким же чином, як і для цільових додатків
аналогічним чином, як і самі цільові програми (особливо з використанням SAST та
аналіз транзитивних залежностей). Переконайтеся, що ці перевірки також спрямовані на
виявлення можливих "чорних ходів" або "пасхальних яєць" у залежностях. Запровадити
процеси розкриття вразливостей з авторами залежностей, включаючи SLA
для усунення проблем. У випадку, якщо виконання SLA не є реалістичним (наприклад, у випадку вразливостей з відкритим вихідним кодом), переконайтеся, що найбільша кількість вразливостей
вразливостей з відкритим кодом), переконайтеся, що найбільш ймовірні випадки очікуються, і ви в змозі
що ви в змозі вчасно вжити компенсуючих заходів. Впроваджуйте
регресійні тести для виправлення виявлених проблем.

Відстежуйте всі виявлені проблеми та їх стан за допомогою системи відстеження дефектів.
Інтегруйте конвеєр збірки з цією системою, щоб дозволити відмову від збірки
щоразу, коли включені залежності містять проблеми вище визначеного рівня критичності.
рівень критичності.
